<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cart - Bhargavi General Store</title>
<link rel="stylesheet" href="css/style.css">
<style>
body{
  font-family:Inter,Segoe UI,Roboto,sans-serif;
  background:#f4f6f8;
  margin:0;
  padding:0;
}
.container{
  max-width:900px;
  margin:40px auto;
  padding:20px;
}
h2{
  margin-bottom:20px;
  color:#333;
  font-size:28px;
}
.cart-item{
  display:flex;
  align-items:center;
  justify-content:space-between;
  background:#fff;
  padding:16px;
  border-radius:16px;
  margin-bottom:16px;
  box-shadow:0 8px 20px rgba(0,0,0,0.08);
  transition:transform 0.2s,box-shadow 0.2s;
}
.cart-item:hover{
  transform:translateY(-3px);
  box-shadow:0 12px 28px rgba(0,0,0,0.12);
}
.cart-item img{
  width:100px;
  height:100px;
  object-fit:cover;
  border-radius:12px;
  margin-right:16px;
}
.cart-item .info{
  flex:1;
  display:flex;
  flex-direction:column;
}
.cart-item .name{
  font-weight:700;
  font-size:18px;
  margin-bottom:8px;
}
.cart-item .price{
  color:#555;
  margin-bottom:8px;
  font-size:16px;
}
.cart-item .quantity{
  display:flex;
  align-items:center;
  gap:8px;
}
.cart-item .quantity button{
  width:30px;
  height:30px;
  border:none;
  border-radius:6px;
  background:#ff9900;
  color:#fff;
  font-weight:600;
  cursor:pointer;
  transition:background 0.2s;
}
.cart-item .quantity button:hover{
  background:#e68a00;
}
.cart-item button.remove{
  background:#ff4d4f;
  color:#fff;
  border:none;
  padding:8px 14px;
  border-radius:8px;
  cursor:pointer;
  transition:background 0.2s;
}
.cart-item button.remove:hover{
  background:#e03e3e;
}
#total{
  font-size:20px;
  font-weight:700;
  margin-top:20px;
  text-align:right;
}
#checkout{
  margin-top:20px;
  padding:14px 24px;
  background:#ff9900;
  border:none;
  border-radius:12px;
  color:#fff;
  cursor:pointer;
  font-size:18px;
  transition:background 0.2s;
  float:right;
}
#checkout:hover{
  background:#e68a00;
}
</style>
</head>
<body>
<div class="container">
<h2>Your Cart</h2>
<div id="cartItems"></div>
<div id="total">Total: ₹0</div>
<button id="checkout">Proceed to Checkout</button>
</div>

<script src="js/app.js"></script>
<script>
let cart = JSON.parse(localStorage.getItem('cart')) || [];

// Render cart items
function renderCart() {
  const container = document.getElementById('cartItems');
  container.innerHTML = '';
  let total = 0;
  cart.forEach((item,index)=>{
    total += item.price * item.quantity;
    const div = document.createElement('div');
    div.className='cart-item';
    div.innerHTML=`
      <img src="${item.image}" alt="${item.name}">
      <div class="info">
        <div class="name">${item.name}</div>
        <div class="price">₹${item.price}</div>
        <div class="quantity">
          <button onclick="changeQty(${index},-1)">-</button>
          <span>${item.quantity}</span>
          <button onclick="changeQty(${index},1)">+</button>
        </div>
      </div>
      <button class="remove" onclick="removeItem(${index})">Remove</button>
    `;
    container.appendChild(div);
  });
  document.getElementById('total').innerText = `Total: ₹${total}`;
  localStorage.setItem('cart',JSON.stringify(cart));
}

// Change quantity
function changeQty(index,delta){
  cart[index].quantity += delta;
  if(cart[index].quantity<1) cart[index].quantity=1;
  renderCart();
}

// Remove item
function removeItem(index){
  cart.splice(index,1);
  renderCart();
}

// Checkout button
document.getElementById('checkout').onclick = function(){
  if(cart.length===0){ alert('Cart is empty'); return; }
  const orders = JSON.parse(localStorage.getItem('orders'))||[];
  orders.push({
    id:Math.floor(Math.random()*100000),
    date:new Date().toLocaleString(),
    total: cart.reduce((sum,i)=>sum+i.price*i.quantity,0),
    items: cart,
    status:'Pending'
  });
  localStorage.setItem('orders',JSON.stringify(orders));
  alert('Order placed successfully!');
  cart=[]; localStorage.setItem('cart',JSON.stringify(cart));
  renderCart();
};

window.onload=renderCart;
</script>
</body>
</html>
